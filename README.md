# BaseCut - Web è§†é¢‘å‰ªè¾‘å·¥å…·

<p align="center">
  åŸºäº Vue 3 + WebGL æ„å»ºçš„é«˜æ€§èƒ½åœ¨çº¿è§†é¢‘ç¼–è¾‘å™¨
</p>

---

## ğŸš€ æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯é€‰å‹ |
|------|---------|
| **æ¡†æ¶** | Vue 3 (Composition API) + TypeScript |
| **æ„å»º** | Vite |
| **çŠ¶æ€ç®¡ç†** | Pinia |
| **æ¸²æŸ“å¼•æ“** | è‡ªç ” WebGL æ¸²æŸ“å™¨ |
| **è§†é¢‘æ’­æ”¾** | HLS.js + åŸç”Ÿ Video |
| **åª’ä½“å¤„ç†** | FFmpeg.wasm |
| **æ•°æ®æŒä¹…åŒ–** | IndexedDB |

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¬ æ—¶é—´è½´
- å¤šè½¨é“ç¼–è¾‘ï¼ˆè§†é¢‘/éŸ³é¢‘/å›¾ç‰‡/æ–‡å­—ï¼‰
- å®æ—¶å¸§ç¼©ç•¥å›¾é¢„è§ˆ
- éŸ³é¢‘æ³¢å½¢å¯è§†åŒ–
- ç²¾ç¡®è£å‰ªä¸åˆ†å‰²

### ğŸ¨ å®æ—¶æ¸²æŸ“
- WebGL ç¡¬ä»¶åŠ é€Ÿ
- å®æ—¶æ»¤é•œä¸è°ƒè‰²
- **æ‹–æ‹½æ—¶ç¼©ç•¥å›¾å®æ—¶é¢„è§ˆ**ï¼ˆä¸å¡é¡¿ï¼‰

### â˜ï¸ äº‘ç«¯æ¶æ„
- HLS æµåª’ä½“æ’­æ”¾
- æœåŠ¡ç«¯é¢„ç”Ÿæˆç¼©ç•¥å›¾ï¼ˆSpriteï¼‰
- è¿œç¨‹æ³¢å½¢æ•°æ®åŠ è½½
- æœ¬åœ°/äº‘ç«¯åŒæ¨¡å¼è‡ªåŠ¨åˆ‡æ¢

### ğŸ“¤ è§†é¢‘å¯¼å‡º
- æµè§ˆå™¨ç«¯ FFmpeg è½¬ç 
- å¤šæ ¼å¼è¾“å‡º

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
vue-baseCut/
â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”‚   â””â”€â”€ ffmpeg/                  # FFmpeg Wasm æ ¸å¿ƒæ–‡ä»¶
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/                  # å…¨å±€æ ·å¼ä¸é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ main.css             # å…¨å±€æ ·å¼
â”‚   â”‚
â”‚   â”œâ”€â”€ components/              # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ export/              # å¯¼å‡ºåŠŸèƒ½
â”‚   â”‚   â”‚   â””â”€â”€ ExportPanel.vue      # å¯¼å‡ºé¢æ¿
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ layout/              # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ MainLayout.vue       # ä¸»å¸ƒå±€
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ player/              # è§†é¢‘æ’­æ”¾å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ Player.vue           # ä¸»æ’­æ”¾å™¨ï¼ˆæ”¯æŒæ‹–æ‹½ç¼©ç•¥å›¾é¢„è§ˆï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ HlsPlayer.vue        # HLS/Blob åŒæ¨¡å¼æ’­æ”¾ç»„ä»¶
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ property/            # å±æ€§é¢æ¿
â”‚   â”‚   â”‚   â””â”€â”€ PropertyPanel.vue    # è½¨é“ä¸ç´ æå±æ€§ç¼–è¾‘
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ timeline/            # æ—¶é—´è½´
â”‚   â”‚   â”‚   â”œâ”€â”€ Timeline.vue         # ä¸»æ—¶é—´è½´ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ClipThumbnails.vue   # ç‰‡æ®µå¸§ç¼©ç•¥å›¾ï¼ˆæ”¯æŒ Spriteï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ ClipWaveform.vue     # éŸ³é¢‘æ³¢å½¢æ˜¾ç¤º
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ upload/              # ç´ æä¸Šä¼ 
â”‚   â”‚       â””â”€â”€ MaterialUpload.vue   # ç´ æåº“ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ db/                      # æ•°æ®æŒä¹…åŒ–å±‚
â”‚   â”‚   â””â”€â”€ IndexedDBManager.ts      # IndexedDB æ“ä½œå°è£…
â”‚   â”‚
â”‚   â”œâ”€â”€ engine/                  # æ ¸å¿ƒæ¸²æŸ“ä¸å¤„ç†å¼•æ“
â”‚   â”‚   â”œâ”€â”€ FFmpegCore.ts            # FFmpeg å‘½ä»¤æ‰§è¡Œä¸ä»»åŠ¡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ HLSPlayer.ts             # HLS æµå¤„ç†ä¸æ’­æ”¾
â”‚   â”‚   â”œâ”€â”€ VideoDecoder.ts          # è§†é¢‘å¸§æå–ä¸ WebCodecs é›†æˆ
â”‚   â”‚   â”œâ”€â”€ WebCodecsExporter.ts     # WebCodecs å¯¼å‡ºå™¨
â”‚   â”‚   â”œâ”€â”€ WebGLRenderer.ts         # åŸºäº WebGL çš„è§†é¢‘å¸§æ¸²æŸ“
â”‚   â”‚   â””â”€â”€ WorkerManager.ts         # Web Worker ä»»åŠ¡åˆ†å‘ä¸åè°ƒ
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/                  # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ project.ts               # å·¥ç¨‹å…¨å±€é…ç½®ä¸åºåˆ—åŒ–
â”‚   â”‚   â”œâ”€â”€ resource.ts              # åª’ä½“èµ„æºåˆ—è¡¨ä¸çŠ¶æ€
â”‚   â”‚   â””â”€â”€ timeline.ts              # è½¨é“æ•°æ®ã€æ’­æ”¾æŒ‡é’ˆã€æ‹–æ‹½é¢„è§ˆçŠ¶æ€
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                   # å…¨å±€ TypeScript ç±»å‹å£°æ˜
â”‚   â”‚   â””â”€â”€ index.ts                 # Material, Clip, Track, ThumbnailSprite ç­‰
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ FrameExtractor.ts        # å¸§æå– + èƒ¶å·ç¼“å­˜ + æ‹–æ‹½é¢„è§ˆ
â”‚   â”‚   â”œâ”€â”€ SpriteThumbnailer.ts     # Sprite ç¼©ç•¥å›¾å¤„ç†ï¼ˆäº‘ç«¯æ¨¡å¼ï¼‰
â”‚   â”‚   â””â”€â”€ WaveformExtractor.ts     # æ³¢å½¢æ•°æ®æå–
â”‚   â”‚
â”‚   â”œâ”€â”€ App.vue                  # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts                  # åº”ç”¨å…¥å£ä¸æ’ä»¶åˆå§‹åŒ–
â”‚
â”œâ”€â”€ index.html                   # é¡µé¢æ¨¡æ¿
â”œâ”€â”€ package.json                 # é¡¹ç›®ä¾èµ–ä¸è„šæœ¬
â”œâ”€â”€ tsconfig.json                # TypeScript é…ç½®
â””â”€â”€ vite.config.ts               # Vite æ„å»ºé…ç½®
```

---

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

```bash
# å®‰è£…ä¾èµ–
pnpm install

# æœ¬åœ°å¼€å‘
pnpm dev

# æ‰“åŒ…æ„å»º
pnpm build
```

---

## ğŸ”§ äº‘ç«¯æ¨¡å¼é…ç½®

æœåŠ¡ç«¯å¤„ç†å®Œæˆåï¼Œè®¾ç½®ç´ æå­—æ®µå³å¯è‡ªåŠ¨åˆ‡æ¢ï¼š

```typescript
material.hlsUrl = 'https://cdn.example.com/video/master.m3u8'
material.thumbnailSprite = {
  url: 'https://cdn.example.com/video/sprite.jpg',
  width: 160,
  height: 90,
  columns: 10,
  interval: 1,
  totalFrames: 60
}
material.waveformUrl = 'https://cdn.example.com/video/waveform.json'
material.processingStatus = 'ready'
```

---

## ğŸ“ å¼€å‘è®¡åˆ’

- [ ] è§†é¢‘è½¬åœºæ•ˆæœ
- [ ] å¤šè½¨é“éŸ³é¢‘æ··åˆ
- [ ] 4K è§†é¢‘ä¼˜åŒ–
- [ ] ååŒç¼–è¾‘

---

<p align="center">
  <sub>BaseCut - è®©æ¯ä¸ªäººéƒ½èƒ½åˆ›ä½œä¸“ä¸šè§†é¢‘</sub>
</p>
